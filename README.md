# NextMD - Markdown编辑器

## 项目简介
NextMD是一款功能完整的Markdown编辑器应用程序，提供直观的用户界面，支持Markdown和HTML之间的双向转换，以及丰富的编辑功能。

## 系统要求
- Python 3.6 或更高版本
- 依赖库：tkinter（通常Python标准库已包含）、markdown、mistune、html2text

## 安装说明

### 1. 克隆或下载项目

首先，将项目文件下载到本地计算机。

### 2. 安装依赖

使用pip安装所需的依赖库：

```bash
pip install markdown mistune html2text
```

如果您使用的是Windows系统且已安装Python，上述命令应该能够正常工作。如果遇到权限问题，可以尝试以管理员身份运行命令提示符或使用以下命令：

```bash
pip install --user markdown mistune html2text
```

## 配置说明

### 环境变量配置

NextMD支持通过环境变量文件进行配置。首次运行时，程序会自动查找并加载`.env`文件（如果存在）。您可以复制`.env.example`文件并根据需要进行修改：

1. 复制`.env.example`文件并重命名为`.env`
2. 使用文本编辑器打开`.env`文件
3. 修改以下配置项：

```dotenv
# 部署地址（默认：localhost）
HOST=localhost

# 部署端口（默认：3367）
PORT=3367

# 应用程序名称
APP_NAME=NextMD

# 应用程序版本
APP_VERSION=1.0.0
```

### 命令行参数配置

您也可以通过命令行参数覆盖配置文件中的设置：

```bash
python main.py --host 127.0.0.1 --port 8080
```

可用的命令行参数：
- `--host` 或 `-H`：指定部署地址
- `--port` 或 `-P`：指定部署端口

## 使用方法

### 启动程序

在项目目录中运行以下命令启动NextMD：

```bash
python main.py
```

### 文件操作

- **新建文件**：点击菜单栏的「文件」→「新建」或使用快捷键 `Ctrl+N`
- **打开文件**：点击菜单栏的「文件」→「打开」或使用快捷键 `Ctrl+O`，支持打开`.md`和`.html`文件
- **保存文件**：点击菜单栏的「文件」→「保存」或使用快捷键 `Ctrl+S`
- **另存为**：点击菜单栏的「文件」→「另存为」或使用快捷键 `Ctrl+Shift+S`

### 拖放功能

您可以直接将`.md`或`.html`文件拖放到编辑器窗口中打开。

### 格式转换

- **Markdown转HTML**：打开Markdown文件后，点击菜单栏的「转换」→「Markdown转HTML」
- **HTML转Markdown**：点击菜单栏的「转换」→「HTML转Markdown」

### 编辑功能

- **撤销**：使用快捷键 `Ctrl+Z`
- **重做**：使用快捷键 `Ctrl+Y`
- **查找**：点击菜单栏的「编辑」→「查找」或使用快捷键 `Ctrl+F`
- **替换**：点击菜单栏的「编辑」→「替换」或使用快捷键 `Ctrl+H`

## 功能介绍

1. **直观的用户界面**：
   - 菜单栏提供所有功能入口
   - 文本编辑区域支持Markdown编辑
   - HTML预览区域实时显示转换结果

2. **双向转换功能**：
   - Markdown转HTML：保持格式完整性
   - HTML转Markdown：智能识别并转换常见HTML标签

3. **文件管理**：
   - 支持创建、打开、保存Markdown和HTML文件
   - 文件拖放支持
   - 未保存更改提示

4. **编辑工具**：
   - 撤销/重做操作
   - 文本查找与替换（支持区分大小写）

5. **配置系统**：
   - 环境变量文件配置
   - 命令行参数配置
   - 可自定义部署地址和端口

6. **错误处理**：
   - 完善的错误捕获和日志记录
   - 用户友好的错误提示
   - 程序稳定性保障

## 日志系统

NextMD内置日志系统，记录程序运行状态和错误信息：

- 日志文件保存在项目目录下的`logs`文件夹中
- 日志文件按日期命名，格式为`nextmd_YYYYMMDD.log`
- 日志级别包括：DEBUG、INFO、WARNING、ERROR、CRITICAL

## 故障排除

### 常见问题

1. **程序无法启动**
   - 确保已安装Python 3.6或更高版本
   - 确保所有依赖库已正确安装
   - 检查是否有其他程序占用了指定端口

2. **文件打开失败**
   - 检查文件路径是否正确
   - 确保文件编码为UTF-8
   - 检查文件权限是否允许读取

3. **转换功能异常**
   - 对于大型文件，转换可能需要较长时间
   - 复杂的HTML结构可能导致转换不完美
   - 检查日志文件获取详细错误信息

4. **配置文件未生效**
   - 确保配置文件命名为`.env`且位于程序根目录
   - 检查配置项格式是否正确，没有多余的空格或注释

### 获取支持

如果遇到其他问题，请查看程序生成的日志文件，获取详细错误信息。您也可以尝试重新安装依赖或更新到最新版本的Python。

## 许可证

本项目采用MIT许可证。详见LICENSE文件。

---

## 联系方式

如有任何问题或建议，请随时联系开发者。

© 2023 NextMD团队 - 一款功能强大的Markdown编辑器。